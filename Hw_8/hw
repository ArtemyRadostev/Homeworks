1. Imagine you was asked to add new partition to your host for backup purposes. To simulate appearance of new physical disk in your server, please create new disk in Virtual Box (5 GB) and attach it to your virtual machine.
Also imagine your system started experiencing RAM leak in one of the applications, thus while developers try to debug and fix it, you need to mitigate OutOfMemory errors; you will do it by adding some swap space.
/dev/sdc - 5GB disk, that you just attached to the VM (in your case it may appear as /dev/sdb, /dev/sdc or other, it doesn't matter)

 *done*
 ll /dev/ | grep '^b' # check if addtitional hdd was added by looking for block devices
 
  brw-rw----. 1 root disk      8,  16 Dec 22 19:48 sdb

1.1. Create a 2GB   !!! GPT !!!   partition on /dev/sdc of type "Linux filesystem" (means all the following partitions created in the following steps on /dev/sdc will be GPT as well)

 fdisk /dev/sdb
  n # set up new partition
  p # primary type
  Partition number: 2
  First sector: Using default value 1050624
  Last sector: +2GB
  t # change partition type
  83 # Linux
 w # write changes and exit
ll /dev/ | grep '^b' # look for changes
 brw-rw----. 1 root disk      8,  18 Dec 22 20:26 sdb2
 
1.2. Create a 512MB partition on /dev/sdc of type "Linux swap"

 fdisk /dev/sdb
  n # set up new partition
  p # primary type
  Partition number: 1
  First sector: Using default value 2048
  Last sector: +512M
  t # change partition type
  82 # Linux swap / Solaris
 w # write changes and exit
ll /dev/ | grep '^b' # look for changes
brw-rw----. 1 root disk      8,  17 Dec 22 20:11 sdb1

1.3. Format the 2GB partition with an XFS file system

 mkfs.xfs /dev/sdb2
 
1.4. Initialize 512MB partition as swap space

 mkswap /dev/sdb1
 vi /etc/fstab # открываю фстаб для того, чтобы настроить своп диск для старта при буте
  Ввожу строку: UUID=dea5cd19-5319-469f-b8ee-96a6bee3c0d7       swap    swap    defaults        0 0
 reboot now
 sudo swapon --show
  Вывод:
   /dev/sdb1 partition 512M   0B   -3
   
 1.5. Configure the newly created XFS file system to persistently mount at /backup
  mkdir backup
  mount /dev/sdb2 /backup
  vi /etc/fstab
   Добавляю строку:
    /dev/sdb1	/backup       xfs    defaults        1       2
 
 1.6. Configure the newly created swap space to be enabled at boot
  *Сделано в пункте 1.4*
  
1.7. Reboot your host and verify that /dev/sdc1 is mounted at /backup and that your swap partition  (/dev/sdc2) is enabled
 mount | grep /dev/sdb2
  Вывод:
   /dev/sdb2 on /backup type xfs (rw,relatime,seclabel,attr2,inode64,noquota)
   
 swapon -s
  Вывод:
   /dev/sdb1                               partition       524284  0       -3
  
  
 2. LVM. Imagine you're running out of space on your root device. As we found out during the lesson default CentOS installation should already have LVM, means you can easily extend size of your root device. So what are you waiting for? Just do it! 
  
 2.1. Create 2GB partition on /dev/sdc of type "Linux LVM"
 
  fdisk /dev/sdb
   n
   p # primary type
   3 # partition number
   *first sector is default*
   +2GB # last sector
   t # change the type
   3 # choose partition
   8e # Linux LVM type
   w
  
 2.2. Initialize the partition as a physical volume (PV)
  
   pvcreate /dev/sdb3
   
 2.3. Extend the volume group (VG) of your root device using your newly created PV
   
   vgextend centos /dev/sdb3
 
2.4 Extend your root logical volume (LV) by 1GB, leaving other 1GB unassigned
 
  lvextend -L+1G /dev/centos/root
  
2.5 Check current disk space usage of your root device
 
 df -h | grep root
			Output:
				
				/dev/mapper/centos-root  6.2G  5.3G  922M  86%
 
 
 2.6 Extend your root device filesystem to be able to use additional free space of root LV
 
  xfs_growfs /dev/mapper/centos-root
  
 2.7. Verify that after reboot your root device is still 1GB bigger than at 2.5.
 
  reboot now
	  *wait for system reboot*
	  df -h | grep root
	  	Output:
		
			  /dev/mapper/centos-root  7.2G  5.3G  1.9G  74%
 
 
 
 
 
 
 
 
 
 
 
 
 
